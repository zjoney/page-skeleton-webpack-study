## 1.说一下我们生成骨架屏的实现思路 
1. 监听打包完成的事件 
2. 当webpack编译完成后，我们可以启动一个服务，通过pub去访问这个生成的页面，抓取内容


有tapable的公开课吗
西西
don 钩子 是最webpack的最后的钩子
、Yu
没画面了？
zjh
完成
西西
done 是webpack 执行npm run build  之后的钩子
文杰
好像明白了 这是打包就生成了骨架屏 不是访问的时候生骨架屏
文杰
就像一个静态页面一样
西西
是访问的时候生成
🙈
hooks是什么
千城、
声音好像有点怪怪的老师
淡墨如烟
骨架屏的意义不是网速不行 或者异步获取数据的时候太慢 为了更好的体验才用的吗
文杰
访问的时候？
吃饱了
打包的时候  dom结构还是未知的  必须得访问页面
Jacky
我看了一点点
文杰
访问的时候都有dom了 还需要屁的骨架屏啊
吃饱了
可以打开美团app看看 有骨架屏的
zjh
饿了么也有
罗凡
网速慢  真实dom  还没有显示呢
white swan
就是解决白屏的问题  提高用户体验
罗凡
@文杰
西西
主要是页面中的静态图片太多的场景
西西
dev-server 启动后 浏览器打开的页面
MR.tang
一般都是首屏
休休
替换shell之后一般都会请求ajax，react同时会把app内的dom清空，这个时候骨架屏就没有了，这个问题怎么解决的？
ヽ
compiler的hooks是怎么来的
吃饱了
骨架屏没有了不是正好达到效果吗
吃饱了
真实dom替换了骨架屏 已经达到效果了呀
西西
option。oport
西西
option。port
休休
中间会有个ajax加载的过程 其实还没生成真实dom
休休
会有个空白期
四只脚的猫
觉得没用的早点睡吧
四只脚的猫
哪那么多戏
MR.tang
没用的 公司太小
东
骨架屏可以理解成高级的loading 效果
🐼
移动端有用的
罗凡
学习下 webpack 插件开发也不错
三七点二度
骨架屏一点也不高级，很low
吃饱了
就是为了解决一些大项目 首屏代码过大渲染时间较长的场景
conny
哈哈！百度头条都在用
MR.tang
很low 你还用
conny
头条评论模块
🐼
骨架屏low，真把我逗笑了
疯再起时
网络好，用 不用都没事
古龙
茅塞顿开
瞬逝&似水流年つ
有录屏的大佬没？
conny
百度打开网页都有给i家谱
三七点二度
对用户而言感觉很高级，对开发者而言就很low
罗凡
怎么录屏？
鞋子
EV录屏
MR.tang
3G 4G网 你不用？
西西
用koa  和koa-static
苍狼
不会node的我十脸懵逼
Jacky
老师太快了
懂你悲欢
app.listen也可以监听吧？为什么还要用http创建服务器监听？
🎏 - ₩
用thinkjs也挺香
Jacky
强烈要求回放
Victor
黑屏
三七点二度
这个不是node，是deno
Mingy
别乱说
文杰
？
Jake Zhang
？
龙卷风
这个人是不是个啥
ヽ
this是哪个
Mingy
哪是deno
能
promise不是then吗？为什么是awite
Orime小潴*o*
是，就是个傻子
zjh
drop node from deno
Orime小潴*o*
这跟deno有个寂寞关系
Jake Zhang
感觉你们都没基础
文杰
别误导别人
zjh
熊猫头 收到 over
常贺
三十七点二度  是来捣乱的吧
Jake Zhang
为啥来看这个课
Mingy
不懂别乱说
Jacky
为啥不直接用express的监听呀
龙卷风
是啊，为什么还要new一个http
罗凡
应该也可以
七里之海
为啥不直接用express的监听呀
MR.tang
其他地方要传参使用
西西
因为用了 express 。static 方法访问静态的html
Jacky
不就传了个port吗
夜乄麾下
关闭的时候为啥没日志
-
....
朱令超
用 this.app.listen 不是一样么
blood
关闭没掉
七里之海
为啥不直接用express的监听呀
三七点二度
async还用promise吗
西西
关闭的日志没有打印
尕子子
关闭日志有问题
尕子子
没打印
blood
说下里面的this


一脸懵逼
🍒杨丶明🌬
我以为大家都是零基础,最后发现只有我才是
zjh
我以为大家都是零基础,最后发现只有我才是 +1
西西
高级
淡墨如烟
我以为大家都是零基础,最后发现只有我才是+2
羽尘
我以为大家都是零基础,最后发现只有我才是+3
明天回火星____
写了iphone有通用性吗，是不是每种机型都要生成
foolish donkey
我以为大家都是很厉害，结果发现好多高手
大桥
browser.newPage()可以拿到HTML 字符串吗
能
架构课对新人不友好
Orime小潴*o*
我以为大家都是零基础,最后发现我是负基础
Marvin
puppeteer 就是一个浏览器的js接口， 可以做爬虫
千城、
这些 方法都是promise吗 可以await
三七点二度
你以为的只是你以为的
东
架构课，不是针对刚入门的。
Orime小潴*o*
老师你这屏幕太白了
Sphenic
空闲
文杰
这就对了
Jacky
不是promise也可以await呀
是阿恒呀
应该是你的屏幕太白了，我的看这还行
西西
应该里面都是promise 封装的
文杰
怎么也得确认是获取渲染后的dom
...
有点懵
西西
network 请求也是 并行的吗？
苍狼
今天讲到几点啊
Connor
感觉 也就是中间件那一套
zjh
22.30
苍狼
express
西西
network请求也是并行的吗？
西西
超哥来回答下
Orime小潴*o*
当然是并行的
淡墨如烟
我服了 怎么做到异步数据加载的时候骨架屏
Orime小潴*o*
不然搞啥异步编程
Connor
苍狼兄
淡墨如烟
这块会讲吗
洋
1
苍狼
有何指教
Orime小潴*o*
数据没返回就骨架屏啊，数据返回了把真实数据渲染上
Marvin
多个html文件可以开多个 page
Connor
下次上课叫我
淡墨如烟
肯定不是啊 默认情况下就会调接口啊
西西
为啥返回了 html  是还没有做 抓取的逻辑
A good man lives well Mr. Zhang
数据没有返回之前怎么确定dom结构呢
苍狼
好哇
Connor
我发现 你是一节课不漏
校长珠峰架构师学院
欢迎大家来参加珠峰架构公开课，我是珠峰客服老师，本次课程是我们正式课一部分，有想了解课程大家可以加我好友，获取课程大纲，和更多视频资料
淡墨如烟
默认情况下调接口如果接口返回数据慢
东
spa 怎么根据路由 生成对应的骨架
苍狼
不上课，该挨批了
淡墨如烟
怎么做到数据加载完成后有骨架屏效果
七里之海
苍狼 老用户 哈哈哈
MR.tang
有大厂的吗
西西
get html  做的 抓取
Mingy
你们都太认真了吧
Mingy
别学了我更不上了
虎牙
有些数据里图片返回的是url 还有一个图片请求过程 如果光是数据返回的就渲染真实数据的话还得给图片加loading图
苍狼
装逼犯
Orime小潴*o*
苍狼是充钱玩家
苍狼
当场抓住
西西
没有模拟iphone6
休休
react脚本加载后会把app内的骨架屏代码清空，但是此时正在执行ajax一步脚本生成真实dom,这个过程可能有1-2秒，没有骨架屏，还是空白页。怎么处理的？
西西
关闭页签
blood
为啥没有打印html呢
Marvin
这种方式不能处理 SPA 应用
苍狼
老夫是超级VIP
🐼
可以在html写一套真的dom
blood
html为什么再日志里看不到
古龙
666
西西
只有一个页签 就关闭浏览器了
Jacky
一堆问题
淡墨如烟
苍狼肯定是卧底
🐼
接在之后隐藏dom
Marvin
一个页面一个骨架页
西西
6666
Homulilly
谢谢老师
"随性"🌙
老师，我使用的是nuxt.js，但是用的是客户端渲染，里面实现多路由的骨架屏方案，使用了库vue-skeleton-webpack-plugin,但是一直报错说html-webpack-plugin要在这个库之前，但是我也在这个插件之前使用html-webpack-plugin,用自己写的webpack插件也一直报错，老师求解
苍狼
那我去洗衣服了
🐼
我们之前是这么做的
大桥
好像没看到HTML字符串啊
古龙
大佬讲课就是厉害，思路清晰
"随性"🌙
老师，我使用的是nuxt.js，但是用的是客户端渲染，里面实现多路由的骨架屏方案，使用了库vue-skeleton-webpack-plugin,但是一直报错说html-webpack-plugin要在这个库之前，但是我也在这个插件之前使用html-webpack-plugin,用自己写的webpack插件也一直报错，老师求解
Sphenic
广告时间===休息5分钟
blood
HTML字符串在哪
背完单词看视频
因为pupteer里面可以wait 等network完再快照
淡墨如烟
老师 异步数据怎么做骨架屏
🙈
老师，说一下实现思路吧
青莲居士
没有中过一次
"随性"🌙
老师，我使用的是nuxt.js，但是用的是客户端渲染，里面实现多路由的骨架屏方案，使用了库vue-skeleton-webpack-plugin,但是一直报错说html-webpack-plugin要在这个库之前，但是我也在这个插件之前使用html-webpack-plugin,用自己写的webpack插件也一直报错，老师求解
"随性"🌙:老师，我使用的是nuxt.js，但是用的是客户端渲染，里面实现多路由的骨架屏方案，使用了库vue-skeleton-webpack-plugin,但是一直报错说html-webpack-plugin要在这个库之前，但是我也在这个插件之前使用html-webpack-plugin,用自己写的webpack插件也一直报错，老师求解


#233
MR.tang

努力奋斗
哇 谢谢老师 学习到了
皮影戏艺人
下课之后，会发课件代码吗
师宁丶

朱令超
刚刚是什么东西没写对
zjh
删了
foolish donkey
困了
zjh
现在讲替换
zjh
type?
古龙

zjh
这里是file
foolish donkey
多个image，用map最后不是只会生成一个image的css吗，他们大小应该不同吧
君
卡了？？
古龙
没
东
老师这里新生成的骨架屏dom 宽高如何适配不用型号手机呢？要各种型号都生成一个吗
东
不同
森屿海巷@
为什么已经拿到dom了还要在替换呢？？
zjh
老师真实项目 defer需要自己算吗
努力奋斗
666666
星辰
老师，可以在梳理下整个思路吗
古龙
小火箭，刷一波
小伙儿
遍历修改，为啥要递归，要从儿子开始
改？
Asan.
老师有没有源码地址呀
背完单词看视频
下次讲啥
む秋天不落叶
这里用babylon这种工具库转成ast后，再做类似这里的逻辑，应该也行吧？
沉非
老师辛苦
ZXW
这样只是解决了首屏的骨架屏吧
A good man lives well Mr. Zhang
骨架屏只是更改了 color和backgroud以及border，width height都没有改
林夕相心
双击666
背完单词看视频
没过瘾
皮影戏艺人
有课件代码吗
佳佳
666
佳佳
辛苦了
沉非
辛苦辛苦
Edon-
讲呀
一正_pro°
非常精彩
Edon-
没过瘾
巛
多标签怎么搞
噢利给
辛苦
一正_pro°
辛苦老师了
Mingy
6666
Fred Ngai
👍🏻
明天回火星____
辛苦老师
Mingy
66666666666666666666666
勇士
张老师有课件源码吗
Homulilly
听着蒙了。。。不少都不会 不过思路是理解了。。谢谢老师
Edon-
hao
西西
老师已经讲了一天了
星辰
老师，可以再梳理下么
foolish donkey
这个 文档能给吗
小伙儿
遍历修改，为啥要递归，要从儿子开始
改？
苍狼
全部标签都有咋搞
ZXW
每次点击详情页想要骨架屏怎么办
小叔叔
那么页面请求都回来后，骨架屏是什么时候消失的？
君
谢谢老师
James
老师牛逼
沉非
源码能提供下吗？
Edon-
666
Rock Wang
感谢
苍狼
全部标签都有咋搞
Sphenic
辛苦
罗光俊
辛苦老师
藝想天开
辛苦了
Victor

君
跪求老师课件代码
芹菜
谢谢老师，感觉知识都串起来了
奈落
css语法树需要另外处理吗
森屿海巷@
可以发课件嘛？
苍狼
正式学员才有
ZERO
那么页面请求都回来后，骨架屏是什么时候消失的？
皮影戏艺人
代码在哪里下载呀
ZERO
+1
foolish donkey
非常棒，赞赞
努力奋斗
工程化
森屿海巷@
可以发源码嘛？
刘科显
骨架屏生成好了，然后使用的时候呢
古龙
666
James
那这个生成的是原生的html骨架屏结构，可以用到react或者vue中吗
青山绿水
牛b
是阿恒呀
666666
梦的的
666
blood
那个插件叫啥名字
罗凡
感觉这样 骨架屏 太细了
blood
npmde1
罗凡
直接  弄个 几大块 算了
conny
     这是工程化配置
背完单词看视频
6666666
zjh
老师真实项目defer需要自己算吗 能用工具自动去算吗
foolish donkey
下次什么时候
鞋子
下次什么时候
む秋天不落叶
为什么只需要处理 css 树，dom 树不需要处理吗
刘科显
骨架屏生成好了，然后接下来使用的时候呢
Mingy
66666
农夫山泉
css如果模块化了，使用去除css无用代码，去除不了，怎么解决呢
小帅
下次什么时候
天天
图在哪
James
实时双向通信
weboscket
这个右边编辑，左边实时更新核心是什么？
刘科显
骨架屏生成好了，然后接下来使用的时候呢
林夕相心
886
